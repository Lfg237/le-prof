<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Biblioth√®que Num√©rique</title>
<style>
body {
  font-family: Arial, sans-serif;
  margin:0; padding:0;
  background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #a1c4fd, #c2e9fb);
  background-size: 400% 400%;
  animation: gradientBG 15s ease infinite;
  color: #fff;
}
@keyframes gradientBG {0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
header {background: rgba(0,0,0,0.6); padding: 10px; display:flex; flex-direction:column; gap:5px; position: sticky; top:0; z-index:1000;}
nav {display:flex; justify-content:space-between; align-items:center;}
nav a {margin:0 10px; color:#fff; text-decoration:none; font-weight:bold;}
.clock {font-weight:bold;}
.user-info {display:flex; justify-content:space-between; align-items:center;}
.status-btn {padding:5px 10px; border:none; border-radius:5px; font-weight:bold; color:#fff;}
.status-ferme {background:gray;}
.status-simple {background:green;}
.status-premium {background:deepskyblue;}
.status-admin {background:orange;}
.banner {background: rgba(0,0,0,0.6); overflow:hidden; white-space: nowrap; padding:5px 0;}
.banner span {display: inline-block; padding-left:100%; animation: scrollBanner 15s linear infinite;}
@keyframes scrollBanner {0% {transform: translateX(0);} 100% {transform: translateX(-100%);}}
main {padding:20px;}
.books {display:grid; grid-template-columns: repeat(auto-fit,minmax(150px,1fr)); gap:20px;}
.book {background: rgba(0,0,0,0.5); padding:10px; border-radius:10px; cursor:pointer; transition: transform 0.3s;}
.book:hover {transform: scale(1.05);}
.pages {margin-top:10px; display:none;}
.page {background: rgba(255,255,255,0.9); color:#000; padding:15px; margin:5px 0; border-radius:8px; cursor:pointer; transition: background 0.3s;}
.page:hover {background:#e0e0e0;}
.popup-bg {position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.7); display:none; justify-content:center; align-items:center; z-index:2000;}
.popup {background:#fff; color:#000; padding:20px; border-radius:10px; max-width:300px; text-align:center;}
.admin-table {width:100%; border-collapse:collapse; margin-top:20px; display:none;}
.admin-table th, .admin-table td {border:1px solid #fff; padding:8px;}
.admin-table th {background:rgba(255,255,255,0.2);}
</style>
</head>
<body>

<header>
  <nav>
    <div class="logo">üìö Biblioth√®que Num√©rique</div>
    <div>
      <a href="#books">Livres</a>
      <a href="#admin">Admin</a>
    </div>
    <div class="clock" id="clock"></div>
  </nav>
  <div class="user-info">
    <div>ID : <span id="userId"></span></div>
    <div>Statut : <button class="status-btn" id="userStatus"></button></div>
    <div>Livre s√©lectionn√© : <span id="selectedBook">Aucun</span></div>
  </div>
</header>

<div class="banner">
  <span>üéâ Pr√©parez vos examens et concours ! Nouvelle offre premium disponible !votre repetiteur en ligne  Contactez l'admin. facebook facilitateurs what's:651475255 üéâ</span>
</div>

<main>
  <section id="books">
    <h2>Nos Livres</h2>
    <div class="books" id="booksContainer"></div>
  </section>

  <section id="admin">
    <h2>Tableau Administrateur</h2>
    <button onclick="adminLogin()">Acc√©der</button>
    <table class="admin-table" id="adminTable">
      <thead>
        <tr>
          <th>ID Utilisateur</th>
          <th>Type</th>
          <th>Date D√©but</th>
          <th>Date Fin</th>
          <th>Livres Autoris√©s</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>
</main>

<div class="popup-bg" id="popupBg">
  <div class="popup" id="popupContent">
    <p>Acc√®s r√©serv√© aux abonn√©s !</p>
    <p>Prix : 500 FCFA / Contact : admin@example.com</p>
    <button onclick="closePopup()">Fermer</button>
  </div>
</div>

<script>
// --- Horloge ---
function updateClock() {
  const now = new Date();
  document.getElementById('clock').textContent =
    now.toLocaleDateString('fr-FR') + ' ' + now.toLocaleTimeString('fr-FR');
}
setInterval(updateClock,1000);
updateClock();

// --- Livres ---

    const booksData = [
  {
    id:0,
    title:"terminal general",
    pages:[`
     
üìö Chimie Terminale ‚Äì Exercices Complexes 1 √† 10
Exercice 1 ‚Äì Oxydor√©duction et st≈ìchiom√©trie

√ânonc√© :
On m√©lange 50 mL de solution de Fe¬≤‚Å∫ 0,2 M avec 25 mL de solution de MnO‚ÇÑ‚Åª 0,1 M en milieu acide :
5 Fe¬≤‚Å∫ + MnO‚ÇÑ‚Åª + 8 H‚Å∫ ‚Üí 5 Fe¬≥‚Å∫ + Mn¬≤‚Å∫ + 4 H‚ÇÇO

1. D√©terminer le r√©actif limitant
2. Calculer le nombre de moles de Fe¬≥‚Å∫ form√©
3. Concentration finale de Fe¬≥‚Å∫ dans le m√©lange
Solution :

n(Fe¬≤‚Å∫)=0,05*0,2=0,01 mol

n(MnO‚ÇÑ‚Åª)=0,025*0,1=0,0025 mol

St≈ìchiom√©trie : 5 Fe¬≤‚Å∫ / 1 MnO‚ÇÑ‚Åª ‚Üí 0,01/5=0,002 < 0,0025 ‚Üí Fe¬≤‚Å∫ limitant

moles Fe¬≥‚Å∫ form√©es = 0,01 mol

volume total = 50+25=75 mL=0,075 L ‚Üí C(Fe¬≥‚Å∫)=0,01/0,075‚âà0,133 M

Exercice 2 ‚Äì Titrage polyprotonique

√ânonc√© :
50 mL d‚ÄôH‚ÇÉPO‚ÇÑ 0,1 M titr√© par NaOH 0,1 M.

1. Volume de NaOH pour chaque point √©quivalent
2. pH au 1er point √©quivalent
Solution :

n(H‚ÇÉPO‚ÇÑ)=0,05*0,1=0,005 mol

1er √©quivalent : 1 NaOH/H‚ÇÉPO‚ÇÑ ‚Üí V=0,005/0,1=50 mL

2√®me √©quivalent : 2 NaOH/H‚ÇÉPO‚ÇÑ ‚Üí V=100 mL

3√®me √©quivalent : 3 NaOH/H‚ÇÉPO‚ÇÑ ‚Üí V=150 mL

pH 1er point : solution H‚ÇÇPO‚ÇÑ‚Åª ‚Üí pH ‚âà pKa‚ÇÅ=2,12
Exercice 3 ‚Äì Substitution nucl√©ophile

√ânonc√© :
CH‚ÇÉCH‚ÇÇCH‚ÇÇOH + HBr ‚Üí ?

Solution :

Type : SN1/SN2
Produit : CH‚ÇÉCH‚ÇÇCH‚ÇÇBr
M√©canisme :
1. Protonation OH ‚Üí OH‚ÇÇ‚Å∫
2. D√©part H‚ÇÇO ‚Üí carbocation

3. Attaque Br‚Åª ‚Üí CH‚ÇÉCH‚ÇÇCH‚ÇÇBr

Exercice 4 ‚Äì √âlectrolyse

√ânonc√© :
√âlectrolyse d‚Äôune solution CuSO‚ÇÑ 0,5 M avec I=2 A pendant 30 min.

Solution :

Q=It=21800=3600 C

n(Cu)=Q/(2F)=3600/(296485)‚âà0,0187 mol

m=0,0187*63,5‚âà1,187
Exercice 5 ‚Äì √âquilibre chimique

√ânonc√© :
0,05 mol NH‚ÇÑCl dans 1 L d‚Äôeau. Ka(NH‚ÇÑ‚Å∫)=5,6√ó10‚Åª¬π‚Å∞

Solution :

NH‚ÇÑ‚Å∫ ‚áå NH‚ÇÉ + H‚Å∫

[H‚Å∫]=‚àö(KaC)=‚àö(5,6e-100,05)‚âà5,29e-6

pH=-log[H‚Å∫]‚âà5,28

Ajout NH‚ÇÑOH 0,05 M ‚Üí solution tampon ‚Üí pH‚âàpKa+log([NH‚ÇÉ]/[NH‚ÇÑ‚Å∫])
Exercice 6 ‚Äì Oxydor√©duction complexe

√ânonc√© :
√âquilibrer et calculer Œîn d‚Äô√©lectrons :
Cr‚ÇÇO‚Çá¬≤‚Åª + Fe¬≤‚Å∫ ‚Üí Cr¬≥‚Å∫ + Fe¬≥‚Å∫ en milieu acide

Solution :

Demi-√©quations :

Cr‚ÇÇO‚Çá¬≤‚Åª + 14 H‚Å∫ + 6 e‚Åª ‚Üí 2 Cr¬≥‚Å∫ + 7 H‚ÇÇO

Fe¬≤‚Å∫ ‚Üí Fe¬≥‚Å∫ + e‚Åª

Multiplication : Fe¬≤‚Å∫*6 ‚Üí 6 e‚Åª ‚Üí √©quilibre
Exercice 7 ‚Äì Titrage acide faible/base faible

√ânonc√© :
50 mL d‚Äôacide ac√©tique 0,1 M titr√© par NaOH 0,1 M.

Solution :

n(CH‚ÇÉCOOH)=0,05*0,1=0,005 mol

1er √©quivalent : n=0,005 ‚Üí V=0,005/0,1=50 mL

pH √† moiti√© √©quivalence : pH=pKa=4,76
Exercice 8 ‚Äì R√©action d‚Äôaddition

√ânonc√© :
CH‚ÇÇ=CH-CH‚ÇÉ + HBr ‚Üí ?

Solution :

Addition √©lectrophile

Produit principal : CH‚ÇÉ-CHBr-CH‚ÇÉ (Markovnikov)
Exercice 9 ‚Äì Chimie organique : oxydation

√ânonc√© :
CH‚ÇÉCH‚ÇÇOH + [O] ‚Üí ?

Solution :

Oxydation primaire ‚Üí CH‚ÇÉCHO (ac√©tald√©hyde)

Si oxydant fort ‚Üí CH‚ÇÉCOOH (acide ac√©tique)
Exercice 10 ‚Äì Solubilit√© et saturation

√ânonc√© :
Solubilit√© AgNO‚ÇÉ=215 g/L √† 25¬∞C.
Masse maximale dissoute dans 0,5 L
Solution :

215 g ‚Üí 1 L

0,5 L ‚Üí 215*0,5=107,5 g
Si tu veux, je peux continuer directement avec les exercices 11 √† 50, tous tr√®s complexes, pr√™ts √† copier-coller, avec

Calculs d√©taill√©s multi-√©tapes

M√©canismes chimiques et √©quilibres

Sch√©mas ASCII pour les mol√©cules

√âmojis et annotations
Veux‚Äëtu que je fasse √ßa‚ÄØ?
    
1. Calculer la vitesse juste avant de toucher le sol.

2. Temps de chute. (g = 9,8 m/s¬≤)

Solution :

v = ‚àö(2gh) = ‚àö(29,845) ‚âà ‚àö882 ‚âà 29,7 m/s

t = ‚àö(2*h/g) = ‚àö(90/9,8) ‚âà ‚àö9,18 ‚âà 3,03 s

Exercice 2 ‚Äì Mouvement parabolique

√ânonc√© :
Un projectile est lanc√© √† 20 m/s avec un angle de 30¬∞ par rapport √† l‚Äôhorizontale.

1. Calculer la port√©e

2. Hauteur maximale

Solution :

vx = 20*cos30 ‚âà 17,32 m/s

vy = 20*sin30 = 10 m/s

Hauteur max : H = vy¬≤/(2*g) = 100/(19,6) ‚âà 5,10 m

Temps total : t = 2*vy/g = 20/9,8 ‚âà 2,04 s

Port√©e : x = vxt = 17,322,04 ‚âà 35,3 m

Exercice 3 ‚Äì Loi de Newton et force

√ânonc√© :
Un bloc de 5 kg est tir√© avec une force de 30 N sur un plan horizontal sans frottement.

1. Acc√©l√©ration
2. Vitesse apr√®s 4 s
Solution :

a = F/m = 30/5 = 6 m/s¬≤

v = at = 64 = 24 m/s

Exercice 4 ‚Äì Travail et √©nergie
√ânonc√© :
Une masse de 2 kg est soulev√©e verticalement de 5 m.

1. Travail de la force gravitationnelle
2. √ânergie potentielle acquise
Solution 
W = mgh = 29,85 = 98 J
E‚Çö = mgh = 98 J
Exercice 5 ‚Äì Mouvement circulaire
√ânonc√© :
Une voiture de 800 kg prend un virage de rayon 50 m √† 20 m/s.
1. Force centrip√®te

2. Acc√©l√©ration centrip√®te

Solution :
a = v¬≤/r = 400/50 = 8 m/s¬≤
F = ma = 8008 = 6400 N
Exercice 6 ‚Äì √âlectricit√© : r√©sistance √©quivalente
√ânonc√© :
Trois r√©sistances 6 Œ©, 12 Œ© et 18 Œ© sont en s√©rie et une autre en parall√®le avec cette s√©rie. Calculer la r√©sistance √©quivalente.
Solution :
S√©rie : Rs = 6+12+18=36 Œ©
Parall√®le avec Rp (supposons Rp=36 Œ©) : 1/Req = 1/36 + 1/36 = 1/18 ‚Üí Req = 18 Œ©
Exercice 7 ‚Äì Loi d‚ÄôOhm
√ânonc√© :
Une lampe de 60 W fonctionne sous 220 V.
1. Intensit√© traversant la lampe
2. R√©sistance de la lampe
Solution :
I = P/V = 60/220 ‚âà 0,273 A
R = V/I = 220/0,273 ‚âà 805 Œ©
Exercice 8 ‚Äì Optique : lentille convergente
√ânonc√© :
Une lentille de 20 cm de distance focale. Un objet est plac√© √† 30 cm.
1. Position de l‚Äôimage
2. Grandissement
Solution :
1/f = 1/p + 1/p‚Äô ‚Üí 1/20 = 1/30 + 1/p‚Äô ‚Üí 1/p‚Äô=0,05-0,0333=0,0167 ‚Üí p‚Äô‚âà60 cm
Grandissement : G = -p‚Äô/p = -60/30=-2
Exercice 9 ‚Äì Thermodynamique
√ânonc√© :
0,5 mol de gaz parfait monoatomique subit une expansion isotherme √† 300 K et son volume passe de 2 L √† 5 L.
1. Travail effectu√© par le gaz
2. √ânergie interne
W = nRTln(Vf/Vi) = 0,58,314300ln(5/2) ‚âà 4157 J

√ânergie interne ŒîU = 0 (isotherme)
Exercice 10 ‚Äì Ondes
√ânonc√© :
Une onde sinuso√Ødale a f = 50 Hz et Œª = 2 m.
1. Vitesse de propagation

2. P√©riode
Solution :

v = fŒª = 502 = 100 m/s

T = 1/f = 1/50 = 0,02 s
===================================================
üìå EXERCICES TERMINALE ‚Äì Partie 1 √† 40
===================================================

Exercice 1 ‚Äì Fonction et d√©riv√©e
√ânonc√© :
f(x) = x¬≥ - 6x¬≤ + 9x + 1
1. √âtudier les variations
2. D√©terminer les extrema
3. Tracer le graphique

Solution :
- f'(x) = 3x¬≤ -12x +9 = 3(x-1)(x-3)
- Signe : croissante sur ]-‚àû,1[, d√©croissante sur ]1,3[, croissante sur ]3,+‚àû[
- Extrema : max f(1)=5, min f(3)=1

Graphique ASCII :
y
^
|          * (1,5)
|         *
|        *
|       *
|      *
|     *
|    *
|   *
|  *
| *
|*        
+-----------------> x
0    1    3    5
         * (3,1)

Exercice 2 ‚Äì Suites et limites
√ânonc√© :
Suite : u0 = 2, un+1 = 1/2 un +1
1. Montrer convergence
2. D√©terminer la limite

Solution :
- Monotone, convergente
- Limite : L = 2

Exercice 3 ‚Äì Probabilit√©s
√ânonc√© :
Sac avec 5 boules rouges et 3 boules vertes, tirage de 2 sans remise.
1. Probabilit√© que les deux soient rouges
2. Probabilit√© qu‚Äôau moins une soit verte

Solution :
- P(RR) = 5/14
- P(au moins une verte) = 9/14

Exercice 4 ‚Äì G√©om√©trie dans l‚Äôespace
√ânonc√© :
Cube de c√¥t√© 2 cm, calculer AC et AG

Solution :
- AC = 2‚àö2 cm
- AG = 2‚àö3 cm

Sch√©ma ASCII :
E--------F
|\       |\
| \      | \
|  H-----|--G
|  |     |  |
A--|-----B  |
 \ |      \ |
  D---------C

Exercice 5 ‚Äì Int√©grale
√ânonc√© :
Calculer ‚à´0^2 (3x¬≤ - 4x +1) dx

Solution :
‚à´0¬≤ 3x¬≤ dx = 8
‚à´0¬≤ -4x dx = -8
‚à´0¬≤ 1 dx = 2
R√©sultat = 2
Exercice 6 ‚Äì Trigonom√©trie
√ânonc√© :
R√©soudre sin x + ‚àö3 cos x =0 sur [0,2œÄ]

Solution :
tan x = -‚àö3 ‚Üí x = 2œÄ/3, 5œÄ/3
Exercice 7 ‚Äì Matrices
√ânonc√© :
A = [[1,2],[3,4]].
Calculer det(A) et A^-1

Solution :
- det(A) = -2
- A^-1 = [[-2,1],[1.5,-0.5]]
Exercice 8 ‚Äì √âquations
√ânonc√© :
x¬≤ -5x +6 =0

Solution :
(x-2)(x-3)=0 ‚Üí x=2 ou x=3

Exercice 9 ‚Äì Probabilit√©s conditionnelles
√ânonc√© :
Sac 3 rouges, 2 bleues, tirage avec remise.
1. Deux rouges
2. Deuxi√®me rouge sachant premi√®re rouge

Solution :
P(RR) = 9/25, P(R2|R1) = 3/5
Exercice 10 ‚Äì Probl√®me concret
√ânonc√© :
Rectangle, p√©rim√®tre 20 cm, aire 24 cm¬≤ ‚Üí dimensions ?

Solution :
L+l=10, L*l=24 ‚Üí L=6, l=4 ou L=4, l=6

Exercice 11 ‚Äì Fonction polynomiale
√ânonc√© :
f(x) = x¬≥ - 9x + 1
1. Calculer f'(x)
2. √âtudier les variations
3. D√©terminer les extrema

Solution :
f'(x) = 3x¬≤ -9 = 3(x-‚àö3)(x+‚àö3)
Signe : d√©croissante sur ]-‚àö3, ‚àö3[, croissante ailleurs
Extrema : max f(-‚àö3)‚âà16, min f(‚àö3)‚âà-16
Exercice 12 ‚Äì Limite
√ânonc√© :
lim(x‚Üí+‚àû) (3x¬≤ + 2x -1)/(x¬≤ - x +1)

Solution :
lim = 3

Exercice 13 ‚Äì Suite
√ânonc√© :
u‚ÇÄ = 1, u‚Çô‚Çä‚ÇÅ = u‚Çô + 1/n
1. V√©rifier si la suite est croissante
2. Conjecturer la limite

Solution :
u‚Çô‚Çä‚ÇÅ - u‚Çô = 1/n >0 ‚Üí croissante
u‚Çô ‚Üí +‚àû (divergente)

Exercice 14 ‚Äì Probabilit√©s
√ânonc√© :
Lancer un d√© √† 6 faces.
1. Probabilit√© d‚Äôobtenir un nombre pair
2. Probabilit√© d‚Äôobtenir un multiple de 3

Solution :
P(nombre pair) = 3/6 = 1/2
P(multiple de 3) = 2/6 = 1/3
Exercice 15 ‚Äì Triangle
√ânonc√© :
Triangle ABC rectangle en A, AB=3 cm, AC=4 cm. Calculer BC.

Solution :
BC¬≤ = AB¬≤ + AC¬≤ = 3¬≤ +4¬≤=9+16=25 ‚Üí BC=5 cm
Exercice 16 ‚Äì D√©riv√©e
√ânonc√© :
f(x) = e^x * sin(x)
1. Calculer f'(x)
2. D√©terminer les points o√π f'(x)=0

Solution :
f'(x) = e^x(sin x + cos x)
f'(x)=0 ‚Üí sin x + cos x=0 ‚Üí tan x = -1 ‚Üí x=-œÄ/4 + kœÄ
Exercice 17 ‚Äì Int√©grale simple
√ânonc√© :
‚à´‚ÇÄ¬π (2x+1) dx

Solution :
‚à´ (2x+1) dx = x¬≤ + x ‚Üí de 0 √†1 : 1¬≤ +1 -0=2

Exercice 18 ‚Äì √âquations trigonom√©triques
√ânonc√© :
R√©soudre cos(2x)=1/2 sur [0,2œÄ]

Solution :
2x=œÄ/3, 5œÄ/3 ‚Üí x=œÄ/6, 5œÄ/6, 7œÄ/6, 11œÄ/6

Exercice 19 ‚Äì Probabilit√©s conditionnelles
√ânonc√© :
Sac 3 rouges,2 vertes,2 tirages sans remise.
P(2e verte | 1e rouge) = 3/8
Exercice 20 ‚Äì Probl√®me concret
√ânonc√© :
Rectangle : L=5 cm, l=3 cm
P = 16 cm, A = 15 cm¬≤



`,
      `üîó Page 3 du Livre 1 avec lien : <a href="https://example.com" target="_blank">Clique ici</a>`
    ]
  },
  {
    id:1,
    title:"terminal technique",
    pages:[
      `‚≠ê Page 1 du Livre 2`,
      `üìñ Page 2 du Livre 2`,
      `üîó Page 3 du Livre 2`    ]
  },
    {
    id:2,
    title:"pr√©mi√©re general",
    pages:[
      `‚≠ê Page 1 du Livre 2`,
      `üìñ Page 2 du Livre 2`,
      `üîó Page 3 du Livre 2`
    ]
    },
  {
    id:3,
    title:"premi√©re technique",
    pages:[
      `‚≠ê Page 1 du Livre 3`,
      `üìñ Page 2 du Livre 3`,
      `üîó Page 3 du Livre 3`
    ]
  },
  {
    id:4,
    title:"2nd g√©n√©ral",
    pages:[
      `‚≠ê Page 1 du Livre 3`,
      `üìñ Page 2 du Livre 3`,
      `üîó Page 3 du Livre 3`
    ]
  },
    {
    id:5,
    title:"2nde technique",
    pages:[
      `‚≠ê Page 1 du Livre 3`,
      `üìñ Page 2 du Livre 3`,
      `üîó Page 3 du Livre 3`
    ]
  },
      {
    id:6,
    title:"3em",
    pages:[
      `‚≠ê Page 1 du Livre 3`,
      `üìñ Page 2 du Livre 3`,
      `üîó Page 3 du Livre 3`
    ]
  },
        {
    id:7,
    title:"4 em annee",
    pages:[
      `‚≠ê Page 1 du Livre 3`,
      `üìñ Page 2 du Livre 3`,
      `üîó Page 3 du Livre 3`
    ]
  },
          {
    id:8,
    title:"4em",
    pages:[
      `‚≠ê Page 1 du Livre 3`,
      `üìñ Page 2 du Livre 3`,
      `üîó Page 3 du Livre 3`
    ]
  },
            {
    id:9,
    title:"3em annee",
    pages:[
      `‚≠ê Page 1 du Livre 3`,
      `üìñ Page 2 du Livre 3`,
      `üîó Page 3 du Livre 3`
    ]
  },
  // R√©p√®te la
  // R√©p√®te la structure pour les livres 4 √† 40
  {
    id:39,
    title:"Livre 40",
    pages:[
      `‚≠ê Page 1 du Livre 40`,
      `üìñ Page 2 du Livre 40`,
      `üîó Page 3 du Livre 40`
    ]
  }
];

// --- Utilisateurs ---
let users = [
  {id:'U1001',type:'premium',start:'01/09/2025',end:'30/09/2025',books:[0,1,2]},
  {id:'U1002',type:'simple',start:'01/09/2025',end:'30/09/2025',books:[0,1]},
  {id:'U1003',type:'ferme',start:'01/09/2025',end:'30/09/2025',books:[]},
  {id:'U1000',type:'admin',start:'01/01/2025',end:'31/12/2030',books:[...Array(40).keys()]}
];

// --- Utilisateur connect√© ---
let currentUser = users[0];
document.getElementById('userId').textContent = currentUser.id;

// --- Statut utilisateur ---
function updateStatusButton(){
  const btn = document.getElementById('userStatus');
  btn.textContent = currentUser.type.toUpperCase();
  btn.className = 'status-btn ' +
    (currentUser.type==='ferme'?'status-ferme':currentUser.type==='simple'?'status-simple':currentUser.type==='premium'?'status-premium':'status-admin');
}
updateStatusButton();

function updateUserStatus(){
  const today = new Date();
  const start = new Date(currentUser.start.split('/').reverse().join('-'));
  const end = new Date(currentUser.end.split('/').reverse().join('-'));
  if(currentUser.type!=='admin'){
    if(today<start || today>end) currentUser.type='ferme';
  }
  updateStatusButton();
}
updateUserStatus();

// --- V√©rification acc√®s selon abonnement ---
function canAccessBook(user, bookId){
  switch(user.type){
    case 'admin': return true;
    case 'premium': return true;
    case 'simple': return user.books.includes(bookId);
    case 'ferme': return false;
    default: return false;
  }
}

// --- G√©n√©ration des livres ---
const booksContainer = document.getElementById('booksContainer');
booksData.forEach(book=>{
  const bookDiv = document.createElement('div');
  bookDiv.className='book';
  bookDiv.dataset.bookId=book.id;
  bookDiv.innerHTML = `<h3>${book.title}</h3><div class="pages"></div>`;
  booksContainer.appendChild(bookDiv);

  const pagesDiv = bookDiv.querySelector('.pages');
  book.pages.forEach((p,pageIndex)=>{
    const pageEl = document.createElement('div');
    pageEl.className='page';
    pageEl.innerHTML = p;
    pageEl.querySelectorAll('a').forEach(a=>a.setAttribute('target','_blank'));
    pageEl.onclick = (e)=>{
      e.stopPropagation();
      if(canAccessBook(currentUser,book.id)){
        alert(p);
      } else showPopup();
    };
    pagesDiv.appendChild(pageEl);
  });

  bookDiv.onclick = ()=>{
    document.getElementById('selectedBook').textContent = book.title;
    pagesDiv.style.display = pagesDiv.style.display==='block'?'none':'block';
    if(!canAccessBook(currentUser,book.id)) showPopup();
  };
});

// --- Popup ---
function showPopup(){document.getElementById('popupBg').style.display='flex';}
function closePopup(){document.getElementById('popupBg').style.display='none';}

// --- Tableau Admin ---
const adminPassword = "233233";
function adminLogin(){
  const code = prompt("Entrez le code d'acc√®s administrateur :");
  if(code===adminPassword){
    const tbody = document.getElementById('adminTable').querySelector('tbody');
    tbody.innerHTML = '';
    users.forEach(u=>{
      const tr = document.createElement('tr');
      tr.innerHTML=`<td>${u.id}</td>
                    <td>${u.type}</td>
                    <td>${u.start}</td>
                    <td>${u.end}</td>
                    <td>${u.books.map(b=>booksData[b]?.title||'').join(', ')}</td>`;
      tbody.appendChild(tr);
    });
    document.getElementById('adminTable').style.display='table';
  } else {
    alert('Code incorrect !');
  }
}
</script>

</body>
</html>