<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BibliothÃ¨que NumÃ©rique</title>
<style>
body {
  font-family: Arial, sans-serif;
  margin:0; padding:0;
  background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #a1c4fd, #c2e9fb);
  background-size: 400% 400%;
  animation: gradientBG 15s ease infinite;
  color: #fff;
}
@keyframes gradientBG {0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
header {background: rgba(0,0,0,0.6); padding: 10px; display:flex; flex-direction:column; gap:5px; position: sticky; top:0; z-index:1000;}
nav {display:flex; justify-content:space-between; align-items:center;}
nav a {margin:0 10px; color:#fff; text-decoration:none; font-weight:bold;}
.clock {font-weight:bold;}
.user-info {display:flex; justify-content:space-between; align-items:center;}
.status-btn {padding:5px 10px; border:none; border-radius:5px; font-weight:bold; color:#fff;}
.status-ferme {background:gray;}
.status-simple {background:green;}
.status-premium {background:deepskyblue;}
.status-admin {background:orange;}
.banner {background: rgba(0,0,0,0.6); overflow:hidden; white-space: nowrap; padding:5px 0;}
.banner span {display: inline-block; padding-left:100%; animation: scrollBanner 15s linear infinite;}
@keyframes scrollBanner {0% {transform: translateX(0);} 100% {transform: translateX(-100%);}}
main {padding:20px;}
.books {display:grid; grid-template-columns: repeat(auto-fit,minmax(150px,1fr)); gap:20px;}
.book {background: rgba(0,0,0,0.5); padding:10px; border-radius:10px; cursor:pointer; transition: transform 0.3s;}
.book:hover {transform: scale(1.05);}
.pages {margin-top:10px; display:none;}
.page {background: rgba(255,255,255,0.9); color:#000; padding:15px; margin:5px 0; border-radius:8px; cursor:pointer; transition: background 0.3s;}
.page:hover {background:#e0e0e0;}
.popup-bg {position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.7); display:none; justify-content:center; align-items:center; z-index:2000;}
.popup {background:#fff; color:#000; padding:20px; border-radius:10px; max-width:300px; text-align:center;}
.admin-table {width:100%; border-collapse:collapse; margin-top:20px; display:none;}
.admin-table th, .admin-table td {border:1px solid #fff; padding:8px;}
.admin-table th {background:rgba(255,255,255,0.2);}
</style>
</head>
<body>

<header>
  <nav>
    <div class="logo">ğŸ“š BibliothÃ¨que NumÃ©rique</div>
    <div>
      <a href="#books">Livres</a>
      <a href="#admin">Admin</a>
    </div>
    <div class="clock" id="clock"></div>
  </nav>
  <div class="user-info">
    <div>ID : <span id="userId"></span></div>
    <div>Statut : <button class="status-btn" id="userStatus"></button></div>
    <div>Livre sÃ©lectionnÃ© : <span id="selectedBook">Aucun</span></div>
  </div>
</header>

<div class="banner">
  <span>ğŸ‰ PrÃ©parez vos examens et concours ! Nouvelle offre premium disponible !votre repetiteur en ligne  Contactez l'admin. facebook facilitateurs what's:651475255 ğŸ‰</span>
</div>

<main>
  <section id="books">
    <h2>Nos Livres</h2>
    <div class="books" id="booksContainer"></div>
  </section>

  <section id="admin">
    <h2>Tableau Administrateur</h2>
    <button onclick="adminLogin()">AccÃ©der</button>
    <table class="admin-table" id="adminTable">
      <thead>
        <tr>
          <th>ID Utilisateur</th>
          <th>Type</th>
          <th>Date DÃ©but</th>
          <th>Date Fin</th>
          <th>Livres AutorisÃ©s</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </section>
</main>

<div class="popup-bg" id="popupBg">
  <div class="popup" id="popupContent">
    <p>AccÃ¨s rÃ©servÃ© aux abonnÃ©s !</p>
    <p>Prix : 500 FCFA / Contact : admin@example.com</p>
    <button onclick="closePopup()">Fermer</button>
  </div>
</div>

<script>
// --- Horloge ---
function updateClock() {
  const now = new Date();
  document.getElementById('clock').textContent =
    now.toLocaleDateString('fr-FR') + ' ' + now.toLocaleTimeString('fr-FR');
}
setInterval(updateClock,1000);
updateClock();

// --- Livres ---

    const booksData = [
  {
    id:0,
    title:"terminal general",
    pages:[`
     
ğŸ“š Chimie Terminale â€“ Exercices Complexes 1 Ã  10
Exercice 1 â€“ OxydorÃ©duction et stÅ“chiomÃ©trie

Ã‰noncÃ© :
On mÃ©lange 50 mL de solution de FeÂ²âº 0,2 M avec 25 mL de solution de MnOâ‚„â» 0,1 M en milieu acide :
5 FeÂ²âº + MnOâ‚„â» + 8 Hâº â†’ 5 FeÂ³âº + MnÂ²âº + 4 Hâ‚‚O

1. DÃ©terminer le rÃ©actif limitant
2. Calculer le nombre de moles de FeÂ³âº formÃ©
3. Concentration finale de FeÂ³âº dans le mÃ©lange
Solution :

n(FeÂ²âº)=0,05*0,2=0,01 mol

n(MnOâ‚„â»)=0,025*0,1=0,0025 mol

StÅ“chiomÃ©trie : 5 FeÂ²âº / 1 MnOâ‚„â» â†’ 0,01/5=0,002 < 0,0025 â†’ FeÂ²âº limitant

moles FeÂ³âº formÃ©es = 0,01 mol

volume total = 50+25=75 mL=0,075 L â†’ C(FeÂ³âº)=0,01/0,075â‰ˆ0,133 M

Exercice 2 â€“ Titrage polyprotonique

Ã‰noncÃ© :
50 mL dâ€™Hâ‚ƒPOâ‚„ 0,1 M titrÃ© par NaOH 0,1 M.

1. Volume de NaOH pour chaque point Ã©quivalent
2. pH au 1er point Ã©quivalent
Solution :

n(Hâ‚ƒPOâ‚„)=0,05*0,1=0,005 mol

1er Ã©quivalent : 1 NaOH/Hâ‚ƒPOâ‚„ â†’ V=0,005/0,1=50 mL

2Ã¨me Ã©quivalent : 2 NaOH/Hâ‚ƒPOâ‚„ â†’ V=100 mL

3Ã¨me Ã©quivalent : 3 NaOH/Hâ‚ƒPOâ‚„ â†’ V=150 mL

pH 1er point : solution Hâ‚‚POâ‚„â» â†’ pH â‰ˆ pKaâ‚=2,12
Exercice 3 â€“ Substitution nuclÃ©ophile

Ã‰noncÃ© :
CHâ‚ƒCHâ‚‚CHâ‚‚OH + HBr â†’ ?

Solution :

Type : SN1/SN2
Produit : CHâ‚ƒCHâ‚‚CHâ‚‚Br
MÃ©canisme :
1. Protonation OH â†’ OHâ‚‚âº
2. DÃ©part Hâ‚‚O â†’ carbocation

3. Attaque Brâ» â†’ CHâ‚ƒCHâ‚‚CHâ‚‚Br

Exercice 4 â€“ Ã‰lectrolyse

Ã‰noncÃ© :
Ã‰lectrolyse dâ€™une solution CuSOâ‚„ 0,5 M avec I=2 A pendant 30 min.

Solution :

Q=It=21800=3600 C

n(Cu)=Q/(2F)=3600/(296485)â‰ˆ0,0187 mol

m=0,0187*63,5â‰ˆ1,187
Exercice 5 â€“ Ã‰quilibre chimique

Ã‰noncÃ© :
0,05 mol NHâ‚„Cl dans 1 L dâ€™eau. Ka(NHâ‚„âº)=5,6Ã—10â»Â¹â°

Solution :

NHâ‚„âº â‡Œ NHâ‚ƒ + Hâº

[Hâº]=âˆš(KaC)=âˆš(5,6e-100,05)â‰ˆ5,29e-6

pH=-log[Hâº]â‰ˆ5,28

Ajout NHâ‚„OH 0,05 M â†’ solution tampon â†’ pHâ‰ˆpKa+log([NHâ‚ƒ]/[NHâ‚„âº])
Exercice 6 â€“ OxydorÃ©duction complexe

Ã‰noncÃ© :
Ã‰quilibrer et calculer Î”n dâ€™Ã©lectrons :
Crâ‚‚Oâ‚‡Â²â» + FeÂ²âº â†’ CrÂ³âº + FeÂ³âº en milieu acide

Solution :

Demi-Ã©quations :

Crâ‚‚Oâ‚‡Â²â» + 14 Hâº + 6 eâ» â†’ 2 CrÂ³âº + 7 Hâ‚‚O

FeÂ²âº â†’ FeÂ³âº + eâ»

Multiplication : FeÂ²âº*6 â†’ 6 eâ» â†’ Ã©quilibre
Exercice 7 â€“ Titrage acide faible/base faible

Ã‰noncÃ© :
50 mL dâ€™acide acÃ©tique 0,1 M titrÃ© par NaOH 0,1 M.

Solution :

n(CHâ‚ƒCOOH)=0,05*0,1=0,005 mol

1er Ã©quivalent : n=0,005 â†’ V=0,005/0,1=50 mL

pH Ã  moitiÃ© Ã©quivalence : pH=pKa=4,76
Exercice 8 â€“ RÃ©action dâ€™addition

Ã‰noncÃ© :
CHâ‚‚=CH-CHâ‚ƒ + HBr â†’ ?

Solution :

Addition Ã©lectrophile

Produit principal : CHâ‚ƒ-CHBr-CHâ‚ƒ (Markovnikov)
Exercice 9 â€“ Chimie organique : oxydation

Ã‰noncÃ© :
CHâ‚ƒCHâ‚‚OH + [O] â†’ ?

Solution :

Oxydation primaire â†’ CHâ‚ƒCHO (acÃ©taldÃ©hyde)

Si oxydant fort â†’ CHâ‚ƒCOOH (acide acÃ©tique)
Exercice 10 â€“ SolubilitÃ© et saturation

Ã‰noncÃ© :
SolubilitÃ© AgNOâ‚ƒ=215 g/L Ã  25Â°C.
Masse maximale dissoute dans 0,5 L
Solution :

215 g â†’ 1 L

0,5 L â†’ 215*0,5=107,5 g
Si tu veux, je peux continuer directement avec les exercices 11 Ã  50, tous trÃ¨s complexes, prÃªts Ã  copier-coller, avec

Calculs dÃ©taillÃ©s multi-Ã©tapes

MÃ©canismes chimiques et Ã©quilibres

SchÃ©mas ASCII pour les molÃ©cules

Ã‰mojis et annotations
Veuxâ€‘tu que je fasse Ã§aâ€¯?
    
1. Calculer la vitesse juste avant de toucher le sol.

2. Temps de chute. (g = 9,8 m/sÂ²)

Solution :

v = âˆš(2gh) = âˆš(29,845) â‰ˆ âˆš882 â‰ˆ 29,7 m/s

t = âˆš(2*h/g) = âˆš(90/9,8) â‰ˆ âˆš9,18 â‰ˆ 3,03 s

Exercice 2 â€“ Mouvement parabolique

Ã‰noncÃ© :
Un projectile est lancÃ© Ã  20 m/s avec un angle de 30Â° par rapport Ã  lâ€™horizontale.

1. Calculer la portÃ©e

2. Hauteur maximale

Solution :

vx = 20*cos30 â‰ˆ 17,32 m/s

vy = 20*sin30 = 10 m/s

Hauteur max : H = vyÂ²/(2*g) = 100/(19,6) â‰ˆ 5,10 m

Temps total : t = 2*vy/g = 20/9,8 â‰ˆ 2,04 s

PortÃ©e : x = vxt = 17,322,04 â‰ˆ 35,3 m

Exercice 3 â€“ Loi de Newton et force

Ã‰noncÃ© :
Un bloc de 5 kg est tirÃ© avec une force de 30 N sur un plan horizontal sans frottement.

1. AccÃ©lÃ©ration
2. Vitesse aprÃ¨s 4 s
Solution :

a = F/m = 30/5 = 6 m/sÂ²

v = at = 64 = 24 m/s

Exercice 4 â€“ Travail et Ã©nergie
Ã‰noncÃ© :
Une masse de 2 kg est soulevÃ©e verticalement de 5 m.

1. Travail de la force gravitationnelle
2. Ã‰nergie potentielle acquise
Solution 
W = mgh = 29,85 = 98 J
Eâ‚š = mgh = 98 J
Exercice 5 â€“ Mouvement circulaire
Ã‰noncÃ© :
Une voiture de 800 kg prend un virage de rayon 50 m Ã  20 m/s.
1. Force centripÃ¨te

2. AccÃ©lÃ©ration centripÃ¨te

Solution :
a = vÂ²/r = 400/50 = 8 m/sÂ²
F = ma = 8008 = 6400 N
Exercice 6 â€“ Ã‰lectricitÃ© : rÃ©sistance Ã©quivalente
Ã‰noncÃ© :
Trois rÃ©sistances 6 Î©, 12 Î© et 18 Î© sont en sÃ©rie et une autre en parallÃ¨le avec cette sÃ©rie. Calculer la rÃ©sistance Ã©quivalente.
Solution :
SÃ©rie : Rs = 6+12+18=36 Î©
ParallÃ¨le avec Rp (supposons Rp=36 Î©) : 1/Req = 1/36 + 1/36 = 1/18 â†’ Req = 18 Î©
Exercice 7 â€“ Loi dâ€™Ohm
Ã‰noncÃ© :
Une lampe de 60 W fonctionne sous 220 V.
1. IntensitÃ© traversant la lampe
2. RÃ©sistance de la lampe
Solution :
I = P/V = 60/220 â‰ˆ 0,273 A
R = V/I = 220/0,273 â‰ˆ 805 Î©
Exercice 8 â€“ Optique : lentille convergente
Ã‰noncÃ© :
Une lentille de 20 cm de distance focale. Un objet est placÃ© Ã  30 cm.
1. Position de lâ€™image
2. Grandissement
Solution :
1/f = 1/p + 1/pâ€™ â†’ 1/20 = 1/30 + 1/pâ€™ â†’ 1/pâ€™=0,05-0,0333=0,0167 â†’ pâ€™â‰ˆ60 cm
Grandissement : G = -pâ€™/p = -60/30=-2
Exercice 9 â€“ Thermodynamique
Ã‰noncÃ© :
0,5 mol de gaz parfait monoatomique subit une expansion isotherme Ã  300 K et son volume passe de 2 L Ã  5 L.
1. Travail effectuÃ© par le gaz
2. Ã‰nergie interne
W = nRTln(Vf/Vi) = 0,58,314300ln(5/2) â‰ˆ 4157 J

Ã‰nergie interne Î”U = 0 (isotherme)
Exercice 10 â€“ Ondes
Ã‰noncÃ© :
Une onde sinusoÃ¯dale a f = 50 Hz et Î» = 2 m.
1. Vitesse de propagation

2. PÃ©riode
Solution :

v = fÎ» = 502 = 100 m/s

T = 1/f = 1/50 = 0,02 s
===================================================
ğŸ“Œ EXERCICES TERMINALE â€“ Partie 1 Ã  40
===================================================

Exercice 1 â€“ Fonction et dÃ©rivÃ©e
Ã‰noncÃ© :
f(x) = xÂ³ - 6xÂ² + 9x + 1
1. Ã‰tudier les variations
2. DÃ©terminer les extrema
3. Tracer le graphique

Solution :
- f'(x) = 3xÂ² -12x +9 = 3(x-1)(x-3)
- Signe : croissante sur ]-âˆ,1[, dÃ©croissante sur ]1,3[, croissante sur ]3,+âˆ[
- Extrema : max f(1)=5, min f(3)=1

Graphique ASCII :
y
^
|          * (1,5)
|         *
|        *
|       *
|      *
|     *
|    *
|   *
|  *
| *
|*        
+-----------------> x
0    1    3    5
         * (3,1)

Exercice 2 â€“ Suites et limites
Ã‰noncÃ© :
Suite : u0 = 2, un+1 = 1/2 un +1
1. Montrer convergence
2. DÃ©terminer la limite

Solution :
- Monotone, convergente
- Limite : L = 2

Exercice 3 â€“ ProbabilitÃ©s
Ã‰noncÃ© :
Sac avec 5 boules rouges et 3 boules vertes, tirage de 2 sans remise.
1. ProbabilitÃ© que les deux soient rouges
2. ProbabilitÃ© quâ€™au moins une soit verte

Solution :
- P(RR) = 5/14
- P(au moins une verte) = 9/14

Exercice 4 â€“ GÃ©omÃ©trie dans lâ€™espace
Ã‰noncÃ© :
Cube de cÃ´tÃ© 2 cm, calculer AC et AG

Solution :
- AC = 2âˆš2 cm
- AG = 2âˆš3 cm

SchÃ©ma ASCII :
E--------F
|\       |\
| \      | \
|  H-----|--G
|  |     |  |
A--|-----B  |
 \ |      \ |
  D---------C

Exercice 5 â€“ IntÃ©grale
Ã‰noncÃ© :
Calculer âˆ«0^2 (3xÂ² - 4x +1) dx

Solution :
âˆ«0Â² 3xÂ² dx = 8
âˆ«0Â² -4x dx = -8
âˆ«0Â² 1 dx = 2
RÃ©sultat = 2
Exercice 6 â€“ TrigonomÃ©trie
Ã‰noncÃ© :
RÃ©soudre sin x + âˆš3 cos x =0 sur [0,2Ï€]

Solution :
tan x = -âˆš3 â†’ x = 2Ï€/3, 5Ï€/3
Exercice 7 â€“ Matrices
Ã‰noncÃ© :
A = [[1,2],[3,4]].
Calculer det(A) et A^-1

Solution :
- det(A) = -2
- A^-1 = [[-2,1],[1.5,-0.5]]
Exercice 8 â€“ Ã‰quations
Ã‰noncÃ© :
xÂ² -5x +6 =0

Solution :
(x-2)(x-3)=0 â†’ x=2 ou x=3

Exercice 9 â€“ ProbabilitÃ©s conditionnelles
Ã‰noncÃ© :
Sac 3 rouges, 2 bleues, tirage avec remise.
1. Deux rouges
2. DeuxiÃ¨me rouge sachant premiÃ¨re rouge

Solution :
P(RR) = 9/25, P(R2|R1) = 3/5
Exercice 10 â€“ ProblÃ¨me concret
Ã‰noncÃ© :
Rectangle, pÃ©rimÃ¨tre 20 cm, aire 24 cmÂ² â†’ dimensions ?

Solution :
L+l=10, L*l=24 â†’ L=6, l=4 ou L=4, l=6

Exercice 11 â€“ Fonction polynomiale
Ã‰noncÃ© :
f(x) = xÂ³ - 9x + 1
1. Calculer f'(x)
2. Ã‰tudier les variations
3. DÃ©terminer les extrema

Solution :
f'(x) = 3xÂ² -9 = 3(x-âˆš3)(x+âˆš3)
Signe : dÃ©croissante sur ]-âˆš3, âˆš3[, croissante ailleurs
Extrema : max f(-âˆš3)â‰ˆ16, min f(âˆš3)â‰ˆ-16
Exercice 12 â€“ Limite
Ã‰noncÃ© :
lim(xâ†’+âˆ) (3xÂ² + 2x -1)/(xÂ² - x +1)

Solution :
lim = 3

Exercice 13 â€“ Suite
Ã‰noncÃ© :
uâ‚€ = 1, uâ‚™â‚Šâ‚ = uâ‚™ + 1/n
1. VÃ©rifier si la suite est croissante
2. Conjecturer la limite

Solution :
uâ‚™â‚Šâ‚ - uâ‚™ = 1/n >0 â†’ croissante
uâ‚™ â†’ +âˆ (divergente)

Exercice 14 â€“ ProbabilitÃ©s
Ã‰noncÃ© :
Lancer un dÃ© Ã  6 faces.
1. ProbabilitÃ© dâ€™obtenir un nombre pair
2. ProbabilitÃ© dâ€™obtenir un multiple de 3

Solution :
P(nombre pair) = 3/6 = 1/2
P(multiple de 3) = 2/6 = 1/3
Exercice 15 â€“ Triangle
Ã‰noncÃ© :
Triangle ABC rectangle en A, AB=3 cm, AC=4 cm. Calculer BC.

Solution :
BCÂ² = ABÂ² + ACÂ² = 3Â² +4Â²=9+16=25 â†’ BC=5 cm
Exercice 16 â€“ DÃ©rivÃ©e
Ã‰noncÃ© :
f(x) = e^x * sin(x)
1. Calculer f'(x)
2. DÃ©terminer les points oÃ¹ f'(x)=0

Solution :
f'(x) = e^x(sin x + cos x)
f'(x)=0 â†’ sin x + cos x=0 â†’ tan x = -1 â†’ x=-Ï€/4 + kÏ€
Exercice 17 â€“ IntÃ©grale simple
Ã‰noncÃ© :
âˆ«â‚€Â¹ (2x+1) dx

Solution :
âˆ« (2x+1) dx = xÂ² + x â†’ de 0 Ã 1 : 1Â² +1 -0=2

Exercice 18 â€“ Ã‰quations trigonomÃ©triques
Ã‰noncÃ© :
RÃ©soudre cos(2x)=1/2 sur [0,2Ï€]

Solution :
2x=Ï€/3, 5Ï€/3 â†’ x=Ï€/6, 5Ï€/6, 7Ï€/6, 11Ï€/6

Exercice 19 â€“ ProbabilitÃ©s conditionnelles
Ã‰noncÃ© :
Sac 3 rouges,2 vertes,2 tirages sans remise.
P(2e verte | 1e rouge) = 3/8
Exercice 20 â€“ ProblÃ¨me concret
Ã‰noncÃ© :
Rectangle : L=5 cm, l=3 cm
P = 16 cm, A = 15 cmÂ²



`,
      `ğŸ”— Page 3 du Livre 1 avec lien : <a href="https://example.com" target="_blank">Clique ici</a>`
    ]
  },
  {
    id:1,
    title:"terminal technique",
    pages:[
      `â­ Page 1 du Livre 2`,
      `ğŸ“– Page 2 du Livre 2`,
      `ğŸ”— Page 3 du Livre 2`    ]
  },
    {
    id:2,
    title:"prÃ©miÃ©re general",
    pages:[
      `â­ Page 1 du Livre 2`,
      `ğŸ“– Page 2 du Livre 2`,
      `ğŸ”— Page 3 du Livre 2`
    ]
    },
  {
    id:3,
    title:"premiÃ©re technique",
    pages:[
      `â­ Page 1 du Livre 3`,
      `ğŸ“– Page 2 du Livre 3`,
      `ğŸ”— Page 3 du Livre 3`
    ]
  },
  {
    id:4,
    title:"2nd gÃ©nÃ©ral",
    pages:[
      `â­ Page 1 du Livre 3`,
      `ğŸ“– Page 2 du Livre 3`,
      `ğŸ”— Page 3 du Livre 3`
    ]
  },
    {
    id:5,
    title:"2nde technique",
    pages:[
      `â­ Page 1 du Livre 3`,
      `ğŸ“– Page 2 du Livre 3`,
      `ğŸ”— Page 3 du Livre 3`
    ]
  },
      {
    id:6,
    title:"3em",
    pages:[
      `â­ Page 1 du Livre 3`,
      `ğŸ“– Page 2 du Livre 3`,
      `ğŸ”— Page 3 du Livre 3`
    ]
  },
        {
    id:7,
    title:"4 em annee",
    pages:[
      `â­ Page 1 du Livre 3`,
      `ğŸ“– Page 2 du Livre 3`,
      `ğŸ”— Page 3 du Livre 3`
    ]
  },
          {
    id:8,
    title:"4em",
    pages:[
      `â­ Page 1 du Livre 3`,
      `ğŸ“– Page 2 du Livre 3`,
      `ğŸ”— Page 3 du Livre 3`
    ]
  },
            {
    id:9,
    title:"3em annee",
    pages:[
      `â­ Page 1 du Livre 3`,
      `ğŸ“– Page 2 du Livre 3`,
      `ğŸ”— Page 3 du Livre 3`
    ]
  },
  // RÃ©pÃ¨te la
  // RÃ©pÃ¨te la structure pour les livres 4 Ã  40
  {
    id:39,
    title:"Livre 40",
    pages:[
      `â­ Page 1 du Livre 40`,
      `ğŸ“– Page 2 du Livre 40`,
      `ğŸ”— Page 3 du Livre 40`
    ]
  }
];

// --- Utilisateurs ---
let users = [
  {id:'U1001',type:'premium',start:'01/09/2025',end:'30/09/2025',books:[0,1,2]},
  {id:'U1002',type:'simple',start:'01/09/2025',end:'30/09/2025',books:[0,1]},
  {id:'U1003',type:'ferme',start:'01/09/2025',end:'30/09/2025',books:[]},
  {id:'U1000',type:'admin',start:'01/01/2025',end:'31/12/2030',books:[...Array(40).keys()]}
];

// --- Utilisateur connectÃ© ---
let currentUser = users[0];
document.getElementById('userId').textContent = currentUser.id;

// --- Statut utilisateur ---
function updateStatusButton(){
  const btn = document.getElementById('userStatus');
  btn.textContent = currentUser.type.toUpperCase();
  btn.className = 'status-btn ' +
    (currentUser.type==='ferme'?'status-ferme':currentUser.type==='simple'?'status-simple':currentUser.type==='premium'?'status-premium':'status-admin');
}
updateStatusButton();

function updateUserStatus(){
  const today = new Date();
  const start = new Date(currentUser.start.split('/').reverse().join('-'));
  const end = new Date(currentUser.end.split('/').reverse().join('-'));
  if(currentUser.type!=='admin'){
    if(today<start || today>end) currentUser.type='ferme';
  }
  updateStatusButton();
}
updateUserStatus();

// --- VÃ©rification accÃ¨s selon abonnement ---
function canAccessBook(user, bookId){
  switch(user.type){
    case 'admin': return true;
    case 'premium': return true;
    case 'simple': return user.books.includes(bookId);
    case 'ferme': return false;
    default: return false;
  }
}

// --- GÃ©nÃ©ration des livres ---
const booksContainer = document.getElementById('booksContainer');
booksData.forEach(book=>{
  const bookDiv = document.createElement('div');
  bookDiv.className='book';
  bookDiv.dataset.bookId=book.id;
  bookDiv.innerHTML = `<h3>${book.title}</h3><div class="pages"></div>`;
  booksContainer.appendChild(bookDiv);

  const pagesDiv = bookDiv.querySelector('.pages');
  book.pages.forEach((p,pageIndex)=>{
    const pageEl = document.createElement('div');
    pageEl.className='page';
    pageEl.innerHTML = p;
    pageEl.querySelectorAll('a').forEach(a=>a.setAttribute('target','_blank'));
    pageEl.onclick = (e)=>{
      e.stopPropagation();
      if(canAccessBook(currentUser,book.id)){
        alert(p);
      } else showPopup();
    };
    pagesDiv.appendChild(pageEl);
  });

  bookDiv.onclick = ()=>{
    document.getElementById('selectedBook').textContent = book.title;
    pagesDiv.style.display = pagesDiv.style.display==='block'?'none':'block';
    if(!canAccessBook(currentUser,book.id)) showPopup();
  };
});

// --- Popup ---
function showPopup(){document.getElementById('popupBg').style.display='flex';}
function closePopup(){document.getElementById('popupBg').style.display='none';}

// --- Tableau Admin ---
const adminPassword = "233233";
function adminLogin(){
  const code = prompt("Entrez le code d'accÃ¨s administrateur :");
  if(code===adminPassword){
    const tbody = document.getElementById('adminTable').querySelector('tbody');
    tbody.innerHTML = '';
    users.forEach(u=>{
      const tr = document.createElement('tr');
      tr.innerHTML=`<td>${u.id}</td>
                    <td>${u.type}</td>
                    <td>${u.start}</td>
                    <td>${u.end}</td>
                    <td>${u.books.map(b=>booksData[b]?.title||'').join(', ')}</td>`;
      tbody.appendChild(tr);
    });
    document.getElementById('adminTable').style.display='table';
  } else {
    alert('Code incorrect !');
  }
}
</script>

</body>
</html>